{% extends "general/base.html" %}

{% block content %}

<div id="semester-tabs">
&nbsp;&nbsp;•&nbsp;
{% for semester in semesters %}
  <!-- Color currently selected semester green -->
  <!-- TODO: Better way to do this? -->
  {% if semester.id == current_semester.id %}
    <a href="{% url 'attendance:personal_record' semester.id %}" style="color: #28960a">
  {% else %}
    <a href="{% url 'attendance:personal_record' semester.id %}">
  {% endif %}
   {{ semester }}</a>&nbsp;&nbsp;•&nbsp;
{% endfor %}
</div>


<h2> Future Events </h2>
<table>
  <tr>
    <th> Event </th>
    <th> Excuse Status </th>
    <th> Text for Excuse </th>
  </tr>
  {% for item in future_events_and_excuses %}
    {% if item.points %}
      <!-- It's an event -->
      <tr>
        <td> {{ item }} </td>
        <!-- Submit Excuse Button -->
        <td> <a href="{% url 'attendance:excuse_submit' item.id %}"> submit excuse </a>
        </td>
      </tr>
    {% else %}
      <!-- It's an excuse -->
      <tr>
        <td> {{ item.event }} </td>
        <td> {{ item.get_status_display }} </td>
        <td> {{ item.text }} </td>
    {% endif %}

  {% endfor %}
</table>


{% include 'attendance/past_event_table.html' %}


{% endblock content %}